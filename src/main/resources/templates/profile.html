<!DOCTYPE html>
<!--suppress XmlUnboundNsPrefix -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/static/stylesheet/style.css" th:href="@{/stylesheet/style.css}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../js/jq.js"></script>
    <title>Title</title>
</head>
<nav>
    <ul class="nav">
        <li class="navLi"><a class="active" th:href="@{http://localhost:8086/fricke/model}">Home</a></li>
        <li class="navLi" id="logIN"><a th:href="@{http://localhost:8086/fricke/model/login}">Log In</a></li>
        <li class="navLi" id="logOut"><a th:href="@{http://localhost:8086/fricke/model/logout}">Log
            Out</a></li>
        <li class="navLi"><a th:href="@{http://localhost:8086/fricke/model/topics}">Topics</a></li>
        <li class="navLi"><a th:href="@{http://localhost:8086/fricke/model/topic}">Topic crete</a></li>
    </ul>
</nav>
<body class="bodyProfile" id="prof" onload="myFunction()">
<div class="container d-flex justify-content-center align-items-center">
    <div class="card">
        <div class="upper">
            <img src="https://i.imgur.com/Qtrsrk5.jpg" class="img-fluid">
        </div>
        <div class="user text-center">
            <div class="profile">
                <img src="../icon/profil.jpg" class="rounded-circle" style="max-height: 5em">
            </div>
        </div>
        <div class="mt-5 text-center">
            <div style="display: flex">
                <h4 class="mb-0" th:text="${user.firstname}"></h4>
                &nbsp;
                <h4 class="mb-0" th:text="${user.lastname}"></h4>
            </div>
            <span class="text-muted d-block mb-2" th:text="${user.address.loc}"></span>
            <div class="d-flex justify-content-between align-items-center mt-4 px-4">
                <div class="stats">
                    <h6 class="mb-0">Themes</h6>
                    <span th:text="${count}"></span>
                </div>
                <div class="stats">
                    <h6 class="mb-0">Ranks</h6>
                    <span>129</span>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
<script th:inline="javascript">
    let userSession = [[${session.name}]];
    if (userSession != null) {
        document.getElementById("logOut").hidden = false;
        document.getElementById("logIN").style.display = "none";
        document.getElementById("headReg").style.display = "none";
    } else {
        document.getElementById("logOut").hidden = true;
        document.getElementById("logIN").style.display = "block";
        document.getElementById("headReg").style.display = "block";
    }

    function myFunction() {
        if (userSession == null) {
            document.getElementById("prof").style.display = "none";
        } else {
            document.getElementById("prof").style.display = "block";
        }

    }
</script>